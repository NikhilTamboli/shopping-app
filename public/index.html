<!DOCTYPE html5>
<html lang="en">
<head>
  <title>Shopping App</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  <link rel="shortcut icon" href="%PUBLIC_URL%" type="image/x-icon">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <link rel="stylesheet" href="%PUBLIC_URL%/styles.css">
</head>
<body onload="typeWriter()">

  <!-- navbar -->
  <nav class="navbar navbar-inverse" style="margin:0; border-radius:0; position: fixed; width: 100%; top: 0; z-index:100;">
    <div class="container-fluid">
      <div class="navbar-header">
        <a class="navbar-brand" href="%PUBLIC_URL%/index.html">Shopping App</a>
      </div>
      <ul class="nav navbar-nav">
        <li class="active"><a href="%PUBLIC_URL%/index.html">Home</a></li>
        <li><a href="%PUBLIC_URL%/index.html">Men</a></li>
        <li><a href="%PUBLIC_URL%/index.html">Women</a></li>
        <li><a href="%PUBLIC_URL%/index.html">Kids</a></li>
        <li><a href="%PUBLIC_URL%/index.html">Home and Living</a></li>
        <li><a href="%PUBLIC_URL%/index.html">Beauty</a></li>
      </ul>
      <form class="navbar-form navbar-left" action="/action_page.php">
        <div class="input-group">
          <input type="text" class="form-control" placeholder="Search" name="search">
          <div class="input-group-btn">
            <button class="btn btn-default" type="submit">
              <i class="glyphicon glyphicon-search"></i>
            </button>
          </div>
          </input>
        </div>
      </form>
      <div class="btn" style="width: fit-content;">
        <button type="button" id="cart" class="btn  btn-primary navbar-btn" style="margin: auto;" onclick="location.href='%PUBLIC_URL%/cart.html'">
          <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-cart" viewBox="0 0 16 16">
          <path d="M0 1.5A.5.5 0 0 1 .5 1H2a.5.5 0 0 1 .485.379L2.89 3H14.5a.5.5 0 0 1 .491.592l-1.5 8A.5.5 0 0 1 13 12H4a.5.5 0 0 1-.491-.408L2.01 3.607 1.61 2H.5a.5.5 0 0 1-.5-.5zM3.102 4l1.313 7h8.17l1.313-7H3.102zM5 12a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm7 0a2 2 0 1 0 0 4 2 2 0 0 0 0-4zm-7 1a1 1 0 1 1 0 2 1 1 0 0 1 0-2zm7 0a1 1 0 1 1 0 2 1 1 0 0 1 0-2z"></path>
          </svg>
          Cart 
          <p id="cartCount">0</p>
        </button>
        <button type="button" class="btn  btn-danger navbar-btn" style="margin: auto;">
          <i class="fa fa-heart-o"></i>
           Wishlist
           <p id="wishCount">0</p>
        </button>
      </div>
    </div>
  </nav>

<!-- carousel -->
<div id="myCarousel" class="carousel slide" data-ride="carousel">
  <!-- Indicators -->
  <ol class="carousel-indicators">
    <li data-target="#myCarousel" data-slide-to="0" class="active"></li>
    <li data-target="#myCarousel" data-slide-to="1"></li>
    <li data-target="#myCarousel" data-slide-to="2"></li>
    <li data-target="#myCarousel" data-slide-to="3"></li>
    <li data-target="#myCarousel" data-slide-to="4"></li>
    <li data-target="#myCarousel" data-slide-to="5"></li>
  </ol>

  <!-- Wrapper for slides -->
  <div class="carousel-inner" style="height: 500px;">
    <div class="item active">
      <img src="%PUBLIC_URL%\img\6.jpg" alt="Image" >
    </div>

    <div class="item">
      <img src="%PUBLIC_URL%\img\2.jpg" alt="Image">
    </div>

    <div class="item">
      <img src="%PUBLIC_URL%\img\5.jpg" alt="Image">
    </div>

    <div class="item">
      <img src="%PUBLIC_URL%\img\4.jpg" alt="Image">
    </div>

    <div class="item">
      <img src="%PUBLIC_URL%\img\3.jpg" alt="Image">
    </div>

    <div class="item">
      <img src="%PUBLIC_URL%\img\1.jpg" alt="Image">
    </div>
  </div>

  <!-- Left and right controls -->
  <a class="left carousel-control" href="#myCarousel" data-slide="prev">
    <span class="glyphicon glyphicon-chevron-left"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="right carousel-control" href="#myCarousel" data-slide="next">
    <span class="glyphicon glyphicon-chevron-right"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

  <div class="header1" >
    <p id="header1" ></p>
  </div>

  <div style="background-color: lightpink;">
    <div class="timer">
      Sale ends in 
      <p id="timer" style="display: inline-block;"></p>
    </div>
  </div>

  <div class="parallax">
    Women's Clothing
  </div>

  <div class="drawer1">
    <ul class="women" id="women">
    </ul>
  </div>

  <div class="parallax">
    Men's Clothing
  </div>

  <div class="drawer1">
    <ul class="women" id="men">
    </ul>
  </div>

  <div class="parallax">
    Jewelery
  </div>

  <div class="drawer1">
    <ul class="women" id="jewelery">
    </ul>
  </div>

  <div class="parallax">
    Electronics
  </div>

  <div class="drawer1">
    <ul class="women" id="electronics">
    </ul>
  </div>

  <div class="more">
    <p>Show More</p>
    <button class="moreBtn"><img src="./img/down.png"></button>
  </div>

  <div id="overlay">
    <div class=" overlay oCard">
      <img id="oImg">
      <p id="oTitle"></p>
      <p id="oDesc">Loading item...</p>
      <s id="oPrice" style="font-size:15px; color: red;"></s>
      <p id="oDiscount" style="font-size:24px; color: green;"></p>
      <button id="oBtn" onclick="atCart()">Add to cart</button>
      <button id="oWish" onclick="atWish()">Add to Wishlist</button>
      <button id="oClose">Close</button>
    </div>
  </div>

  <div class="footer">
    <p>DevSoc Core Review Project - Nikhil Tamboli</p>
    <p>Contact: <a href="mailto:f20211603@goa.bits-pilani.ac.in" style="color: white;">f20211603@goa.bits-pilani.ac.in</a></p>
  </div class="footer">

</body>
<!-- script for header1 -->
<script>
  var z = 0;
  var txt = 'FESTIVE OFFERS AHEAD!';
  var speed = 100;
  
  function typeWriter() {
    if (z < txt.length) {
    document.getElementById("header1").innerHTML += txt.charAt(z);
    z++;
    setTimeout(typeWriter, speed);
    }
  }
</script>
<!-- scri
  pt for timer -->
<script>
var countDownDate = new Date("Oct 30, 2022 00:00:00").getTime();

var x = setInterval(function() {

  var now = new Date().getTime();

  var distance = countDownDate - now;

  var days = Math.floor(distance / (1000 * 60 * 60 * 24));
  var hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
  var minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
  var seconds = Math.floor((distance % (1000 * 60)) / 1000);

  document.getElementById("timer").innerHTML = days + "d " + hours + "h "
  + minutes + "m " + seconds + "s ";

  if (distance < 0) {
    clearInterval(x);
    document.getElementById("timer").innerHTML = "";
  }
}, 1000);
</script>
<!-- drawer1 -->
<script>
  function addCard(i, cat, id){
    const url = `./${cat}.json `;
    console.log(url);
    var ul = document.getElementById(id);
    var li = document.createElement("li");
    var div = document.createElement("div");
    div.setAttribute("class", "card");
    div.setAttribute("id", `${i}${cat}`);
    div.setAttribute("onClick", "showCard(this.id)");
    var img = document.createElement("img");
    fetch(url)
            .then(res=>res.json())
            .then(json=>img.setAttribute("src",json[i].image));
    img.setAttribute("style", "width:100%; border-radius:10px; height:150px");
    div.appendChild(img);
    var h4 = document.createElement("h4");
    fetch(url)
            .then(res=>res.json())
            .then(json=>
            h4.appendChild(document.createTextNode(json[i].title.slice(0,30)+"..."))
            );
    div.appendChild(h4);
    var price = document.createElement("s");
    price.setAttribute("class", "price");
    fetch(url)
            .then(res=>res.json())
            .then(json=>price.appendChild(document.createTextNode("$"+json[i].price)));
    
    var discount = document.createElement("p");
    discount.setAttribute("style", "font-size:20px; color:green;");
    fetch(url)
            .then(res=>res.json())
            .then(json=>discount.appendChild(document.createTextNode("$"+Math.floor(json[i].price*0.8))));
    div.appendChild(price);
    div.appendChild(discount);
    li.appendChild(div);
    ul.appendChild(li);
  }
  for(let i=0; i<6;i++){
    addCard(i,"women's%20clothing", "women");
  }
  for(let i=0;i<4;i++){
    addCard(i,"men's%20clothing", "men");
  }
  for(let i=0;i<4;i++){
    addCard(i,"jewelery", "jewelery");
  }
  for(let i=0;i<6;i++){
    addCard(i,"electronics", "electronics");
  }
</script>
<!-- overlay -->
<script>
  var currentItem = "";
  function showCard(id){
    document.getElementById("overlay").style.display = "block";
    currentItem = id;
    var prd = id[0];
    var cat = id.slice(1);
    const url = `./${cat}.json`;
    fetch(url)
              .then(res=>res.json())
              .then(json=>document.getElementById("oImg").src= json[prd].image);
    fetch(url)
      .then(res=>res.json())
      .then(json=>document.getElementById("oTitle").innerHTML= json[prd].title);
    fetch(url)
      .then(res=>res.json())
      .then(json=>document.getElementById("oDesc").innerHTML= json[prd].description);
    fetch(url)
      .then(res=>res.json())
      .then(json=>document.getElementById("oPrice").innerHTML= "$"+json[prd].price);
    fetch(url)
      .then(res=>res.json())
      .then(json=>document.getElementById("oDiscount").innerHTML= "$"+Math.floor(json[prd].price*0.8));
  }

  function close(){
    document.getElementById("overlay").style.display = "none";
  }

  document.getElementById("oClose").onclick = function(){
    document.getElementById("overlay").style.display = "none";
  }
  
</script>
<!-- Add to cart Feature -->
<script>
  var items = [];
  localStorage["items"] = items;
  function atCart(){
    items.push(currentItem);
    if(items.length!=0){
      document.getElementById("cartCount").style.display = "inline";
      document.getElementById("cartCount").innerHTML = items.length;
    }
    localStorage["items"] = items;
  }

  function atWish(){
    items.push(currentItem);
    if(items.length!=0){
      document.getElementById("wishCount").style.display = "inline";
      document.getElementById("wishCount").innerHTML = items.length;
    }
    localStorage["items"] = items;
  }
</script>
</html>

